<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nigerian Property Listing</title>
  <link rel="stylesheet" href="add-property.css" />

  <link rel="apple-touch-icon" sizes="180x180" href="images/favicon_io/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="images/favicon_io/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="images/favicon_io/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="192x192" href="images/favicon_io/android-chrome-192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="images/favicon_io/android-chrome-512.png">
  <link rel="manifest" href="images/favicon_io/site.webmanifest">
</head>

<body>
  <!-- top plan message -->
  <div id="plan-message" class="plan-warning" style="margin-bottom: 10px; font-weight: bold;"></div>

  <div class="container">
    <form id="propertyForm" class="property-form">
      <!-- Basic info -->
      <div class="form-section">
        <h3>Basic Information</h3>

        <div class="form-group">
          <label for="propertyTitle">Property Title</label>
          <input type="text" id="propertyTitle" required />
        </div>

        <div class="form-group">
          <label for="price">Price (₦)*</label>
          <input type="number" id="price" required />
        </div>

        <!-- Description block: textarea, ai-controls (hidden by default), and toggle (always visible) -->
        <div class="form-group">
          <label for="propertyDescription">Description</label>
          <textarea id="propertyDescription" rows="4" required></textarea>

          <!-- AI controls (wrapped) — hidden by default via CSS; shown when toggle ON -->
          <div class="ai-controls">
            <!-- Improve button (id must match JS) -->
            <button type="button" id="aiButton" class="ai-primary-btn" title="Improve description using AI">
              Improve description
            </button>

            <!-- Helper text -->
            <p class="ai-hint">
              Please provide a full and detailed description — the more complete the description, the better the
              AI-assisted output.
            </p>
          </div>

          <!-- Toggle (always visible) -->
          <div class="toggle-row" style="margin-top:10px;">
            <label class="switch" title="Enable AI assist">
              <input type="checkbox" id="aiToggle" />
              <span class="slider"></span>
            </label>
            <span id="aiToggleLabel" class="toggle-label">Use AI to improve description.</span>
          </div>
        </div>
      </div>

      <!-- Location details -->
      <div class="form-section">
        <h3>Location Details</h3>
        <div class="address-grid">
          <div class="form-group">
            <label for="streetAddress">Street Address</label>
            <input type="text" id="streetAddress" required />
          </div>

          <div class="form-group">
            <label for="stateSelect">State</label>
            <select id="stateSelect" required>
              <option value="">Select State</option>
            </select>
          </div>

          <div class="form-group">
            <label for="citySelect">City</label>
            <select id="citySelect" required>
              <option value="">Select City</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Categories -->
      <div class="category-selectors">
        <div class="form-group">
          <label for="mainCategory">Main Category</label>
          <select id="mainCategory" class="form-control" required>
            <option value="">Select Main Category</option>
            <option value="Residential">Residential</option>
            <option value="Commercial">Commercial</option>
            <option value="Land">Land</option>
            <option value="Special Purpose">Special Purpose</option>
          </select>
        </div>

        <div class="form-group subcategory-group" style="display: none;">
          <label for="subCategory">Sub Category</label>
          <select id="subCategory" class="form-control" required>
            <option value="">Select Sub-category</option>
          </select>
        </div>

        <div class="form-group property-type-group" style="display: none;">
          <label for="propertyType">Property Type</label>
          <select id="propertyType" class="form-control" required>
            <option value="">Select Property Type</option>
          </select>
        </div>

        <div>
          <label for="Condition">Condition</label>
          <select id="condition" required>
            <option value="">Select Condition</option>
            <option value="owner">New</option>
            <option value="agent">Used/ New</option>
            <option value="agent">Refurbish</option>
            <option value="agent">Old</option>
          </select>
          <div id="accountTypeError" class="error" role="alert" style="display:none"></div>
        </div>

        <div>
          <label for="availability">Availability</label>
          <select id="availability" required>
            <option value="">Select Availibility</option>
            <option value="owner">For Sale</option>
            <option value="owner">For Rent</option>

          </select>
          <div id="accountTypeError" class="error" role="alert" style="display:none"></div>
        </div>
      </div>

      <!-- Media upload -->
      <div class="form-section">
        <h3>Media Upload</h3>
        <div class="upload-group">
          <label for="mainImages">Main Images (1-5)</label>
          <input type="file" id="mainImages" accept="image/*" multiple required />
          <div class="file-note">You can upload up to 5 main images.</div>

          <label for="descImages" style="margin-top:12px;">Description Images (1-15)</label>
          <input type="file" id="descImages" accept="image/*" multiple required />
          <div class="file-note">You can upload up to 15 description images.</div>
        </div>
      </div>

      <button type="submit" id="submit-btn" class="submit-btn">Publish Property</button>
    </form>
  </div>

  <!-- Progress overlay -->
  <div id="progressDialog" class="progress-dialog" style="display:none;">
    <div class="progress-dialog-content">
      <div class="spinner"></div>
      <p>Loading...</p>
    </div>
  </div>

  <!-- Firebase compat libs -->
  <script src="https://www.gstatic.com/firebasejs/9.6.8/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.8/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.8/firebase-database-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.8/firebase-storage-compat.js"></script>

  <!-- Your firebase config and initialization -->
  <script src="firebase.js"></script>


  <!-- Main page JS (replace with the updated add-property.js you were given) -->
  <script src="add-property.js"></script>
</body>

</html>